<!DOCTYPE html>
<html lang="es" id="html" class="">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <title>Panel - Club Voleibol</title>
  <script src="https://unpkg.com/lucide@latest"></script>


  <!-- Tailwind CSS desde CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
    };
  </script>

</head>

<body class="min-h-screen bg-white dark:bg-gray-900 text-gray-900 dark:text-white flex">

  <!-- Aquí van las dos columnas -->

<!-- Columna izquierda: Perfil -->
 <!-- Botón menú hamburguesa (solo visible en móviles) -->
<button id="menu-toggle" class="md:hidden absolute top-4 left-4 z-50 text-gray-800 dark:text-white">
  <!-- Icono tipo hamburguesa -->
  <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"/>
  </svg>
</button>
<!-- Fondo oscuro (overlay) -->
<div id="sidebar-overlay"
     class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden md:hidden"></div>
<aside id="sidebar"
  class="fixed top-0 left-0 z-50 w-64 h-full bg-gray-200 dark:bg-gray-800 transform -translate-x-full md:relative md:translate-x-0 md:w-1/4 md:h-auto md:flex md:flex-col text-center shadow-md transition-transform duration-300 ease-in-out">

  <!-- 📦 Contenedor interno para distribución vertical -->
  <div class="flex flex-col justify-between h-full p-6 gap-6">

    <!-- 👤 Imagen + datos -->
    <div class="flex flex-col items-center gap-4">
      <img id="foto-usuario" src="img/elite_logo.png" alt="Usuario"
           class="w-28 h-28 rounded-full object-cover shadow-md border-4 border-white dark:border-gray-700">

      <h2 id="nombre-usuario" class="text-xl font-bold">...</h2>
      <p  id="rol-usuario" class="text-sm text-gray-600 dark:text-gray-300">..</p>
      <p id="ultimo-acceso" class="text-xs text-gray-500 dark:text-gray-400">Último acceso: </p>
      <p id="correo-usuario" class="text-xs text-gray-500 dark:text-gray-400">Correo: </p>
    </div>

    <!-- 🧠 Frase motivacional -->
    <div>
      <p class="italic text-sm text-gray-500 dark:text-gray-400">
        "El esfuerzo vence al talento, si el talento no se esfuerza."
      </p>
    </div>

    <!-- 🔘 Botones -->
    <div class="flex flex-col md:flex-row items-center justify-center gap-3">
      
      <!-- 🌗 Switch modo oscuro estilo iPhone -->
      <div class="flex flex-col items-center w-full gap-1">
        <label class="text-sm font-medium text-gray-600 dark:text-gray-300"></label>
        <label class="relative inline-flex items-center cursor-pointer">
          <input type="checkbox" id="theme-toggle" class="sr-only peer">
          <div class="w-11 h-6 bg-gray-400 peer-checked:bg-blue-600 dark:bg-gray-700 dark:peer-checked:bg-blue-400 rounded-full peer transition duration-300"></div>
          <span class="absolute left-1 top-[2px] w-5 h-5 bg-white rounded-full transition-all duration-300 peer-checked:translate-x-full"></span>
        </label>
      </div>

      <!-- 🔓 Botón cerrar sesión -->
      <button id="logout-btn"
        class="bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg transition duration-200 text-sm font-medium whitespace-nowrap">
        Cerrar sesión
      </button>
    </div>
  </div>
</aside>

<!-- Panel derecho del dashboard -->
<main class="w-full md:w-3/4 p-6 bg-white dark:bg-gray-900 text-gray-900 dark:text-white min-h-screen flex flex-col">

  <h1 class="text-2xl font-bold mb-6 text-center md:text-left">
    Panel Principal
        </h1>

    <div class="flex-grow flex items-center justify-center">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full">

        <!-- Tarjeta: Jugadores -->
    <a href="jugadores.html" class="group bg-gray-200 dark:bg-gray-800 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 flex flex-col items-center text-center hover:scale-[1.02]">
      <div class="w-20 h-20 mb-4 text-blue-600 dark:text-blue-400 transition-transform duration-300 ease-in-out transform group-hover:scale-110 group-hover:text-blue-700 dark:group-hover:text-blue-300">
        <i data-lucide="users" class="w-full h-full"></i>
      </div>
      <h2 class="text-lg font-semibold">Jugadores</h2>
      <p class="text-sm text-gray-500 dark:text-gray-400">Ver y administrar jugadores</p>
    </a>

    <!-- Tarjeta: Pagos -->
    <a href="#" class="group bg-gray-200 dark:bg-gray-800 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 flex flex-col items-center text-center hover:scale-[1.02]">
      <div class="w-20 h-20 mb-4 text-blue-600 dark:text-blue-400 transition-transform duration-300 ease-in-out transform group-hover:scale-110 group-hover:text-blue-700 dark:group-hover:text-blue-300">
        <i data-lucide="credit-card" class="w-full h-full"></i>
      </div>
      <h2 class="text-lg font-semibold">Pagos</h2>
      <p class="text-sm text-gray-500 dark:text-gray-400">Historial y control de pagos</p>
    </a>

    <!-- Tarjeta: Entrenadores -->
    <a href="#" class="group bg-gray-200 dark:bg-gray-800 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 flex flex-col items-center text-center hover:scale-[1.02]">
      <div class="w-20 h-20 mb-4 text-blue-600 dark:text-blue-400 transition-transform duration-300 ease-in-out transform group-hover:scale-110 group-hover:text-blue-700 dark:group-hover:text-blue-300">
        <i data-lucide="user-circle" class="w-full h-full"></i>
      </div>
      <h2 class="text-lg font-semibold">Entrenadores</h2>
      <p class="text-sm text-gray-500 dark:text-gray-400">Gestión de entrenadores</p>
    </a>

    <!-- Tarjeta: Categorías -->
    <a href="#" class="group bg-gray-200 dark:bg-gray-800 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 flex flex-col items-center text-center hover:scale-[1.02]">
      <div class="w-20 h-20 mb-4 text-blue-600 dark:text-blue-400 transition-transform duration-300 ease-in-out transform group-hover:scale-110 group-hover:text-blue-700 dark:group-hover:text-blue-300">
        <i data-lucide="layers" class="w-full h-full"></i>
      </div>
      <h2 class="text-lg font-semibold">Categorías</h2>
      <p class="text-sm text-gray-500 dark:text-gray-400">Clasificaciones por edad</p>
    </a>

    <!-- Tarjeta: Asistencias -->
    <a href="#" class="group bg-gray-200 dark:bg-gray-800 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 flex flex-col items-center text-center hover:scale-[1.02]">
      <div class="w-20 h-20 mb-4 text-blue-600 dark:text-blue-400 transition-transform duration-300 ease-in-out transform group-hover:scale-110 group-hover:text-blue-700 dark:group-hover:text-blue-300">
        <i data-lucide="check-square" class="w-full h-full"></i>
      </div>
      <h2 class="text-lg font-semibold">Asistencias</h2>
      <p class="text-sm text-gray-500 dark:text-gray-400">Registro diario de jugadores</p>
    </a>

        <!-- Tarjeta: Configuración -->
    <a href="#" class="group bg-gray-200 dark:bg-gray-800 p-6 rounded-xl shadow-md hover:shadow-lg transition duration-300 flex flex-col items-center text-center hover:scale-[1.02]">
      <div class="w-20 h-20 mb-4 text-blue-600 dark:text-blue-400 transition-transform duration-300 ease-in-out transform group-hover:scale-110 group-hover:text-blue-700 dark:group-hover:text-blue-300">
        <i data-lucide="settings" class="w-full h-full"></i>
      </div>
      <h2 class="text-lg font-semibold">Configuración</h2>
      <p class="text-sm text-gray-500 dark:text-gray-400">Preferencias del sistema</p>
    </a>


      </div>
    </div>
</main>





  <!-- Aquí pondremos el JS para el modo oscuro -->

      <script>
        const htmlTag = document.getElementById('html');
        const themeToggle = document.getElementById('theme-toggle');
        const sidebar = document.getElementById('sidebar');
        const menuToggle = document.getElementById('menu-toggle');
        const overlay = document.getElementById('sidebar-overlay');
      
        // Modo oscuro
        if (localStorage.getItem('theme') === 'dark') {
          htmlTag.classList.add('dark');
          themeToggle.checked = true;
        }
      
        themeToggle.addEventListener('change', () => {
          htmlTag.classList.toggle('dark');
          localStorage.setItem('theme', htmlTag.classList.contains('dark') ? 'dark' : 'light');
        });
      
        // Abrir menú lateral
        menuToggle.addEventListener('click', () => {
          sidebar.classList.toggle('-translate-x-full');
          overlay.classList.toggle('hidden');
        });
      
        // Cerrar menú si se toca fuera
        overlay.addEventListener('click', () => {
          sidebar.classList.add('-translate-x-full');
          overlay.classList.add('hidden');
        });
      </script>
      <script>
        const token = localStorage.getItem('access');
        if (!token) {
          // Si no hay token, redirige directamente
          window.location.replace('login.html');
        }
      </script>


    <script>
      // Cerrar sesión
      const logoutBtn = document.getElementById('logout-btn');
      logoutBtn.addEventListener('click', () => {
        localStorage.removeItem('access');
        localStorage.removeItem('refresh');
        window.location.replace('login.html'); // Redirecciona al login
      });
    </script>
    <script src="logout.js"></script>

    <script>
         lucide.createIcons();
    </script>

    <script>
      window.addEventListener("pageshow", function(event) {
        if (event.persisted || performance.getEntriesByType("navigation")[0].type === "back_forward") {
          location.reload(); // Asegura que se verifique el token otra vez
        }
      });
    </script>

<script src="yo.js"></script>

<script>
  // Si el usuario vuelve usando "adelante" o "atrás", forzamos a verificar el token
  window.addEventListener("pageshow", function(event) {
    const token = localStorage.getItem('access') || localStorage.getItem('access_token');
    
    const navigatedWithBackOrForward =
      event.persisted || performance.getEntriesByType("navigation")[0].type === "back_forward";

    if (!token || navigatedWithBackOrForward) {
      window.location.replace('login.html');
    }
  });
</script>


</body>
</html>
